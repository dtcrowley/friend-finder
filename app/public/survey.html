<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <title>Friend Finder - Survey</title>
</head>
<body class="bg-primary">
    <div class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Closest Friend Match</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="modalClose">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p id="userMatch"></p>
                <img id="userMatchImage" style="width: 450px; height: 300px; margin-left: 8px;"></img>
            </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="jumbotron" style="margin-top: 60px;">
            <h2 class="display-4 text-primary" style="text-align: center;">Friend Finder Survey</h2>
            <p class="text-dark" style="text-align: center; font-size: 24px;">Fill out the questions below to determine how compatible you are with others!</p>
                <hr>
            <div class="form-group">
                <h3 class="text-primary" style="text-align: center">Personal Data</h3>
                    <hr class="my-4">
                <label for="nameInput" class="text-dark">Name (Required)</label>
                <input type="name" class="form-control" style="margin-bottom: 10px;" id="nameInput" placeholder="Full Name">
                <label for="linkInput" class="text-dark">Link To Photo Image (Required)</label>
                <input type="link" class="form-control" id="linkInput" placeholder="Link To Photo">
                    <hr class="my-4">
                <h3 class="text-primary" style="text-align: center">Survey Questions</h3>
                    <hr>
                <div class="input-field" style="margin-bottom: 20px;">
                    <h5 class="text-primary">Question 1</h5>
                    <p>Your mind is always buzzing with unexplored ideas and plans.</p>
                    <select class="text-primary" id="question1">
                        <option value="" disabled selected>Choose your answer</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>  
                    <hr>
                <div class="input-field" style="margin-bottom: 20px">
                    <h5 class="text-primary">Question 2</h5>
                    <p>Generally speaking, you rely more on your experience than your imagination.</p>
                    <select class="text-primary" id="question2">
                        <option value="" disabled selected>Choose your answer</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                    <hr>
                <div class="input-field" style="margin-bottom: 20px">
                    <h5 class="text-primary">Question 3</h5>
                    <p>You find it easy to stay relaxed and focused even when there is some pressure.</p>
                    <select class="text-primary" id="question3">
                        <option value="" disabled selected>Choose your answer</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                    <hr>
                <div class="input-field" style="margin-bottom: 20px"> 
                    <h5 class="text-primary">Question 4</h5>
                    <p>You rarely do something just out of sheer curiosity.</p>
                    <select class="text-primary" id="question4">
                        <option value="" disabled selected>Choose your answer</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                    <hr>    
                <div class="input-field" style="margin-bottom: 20px">
                    <h5 class="text-primary">Question 5</h5>
                    <p>People can rarely upset you.</p>
                    <select class="text-primary" id="question5">
                        <option value="" disabled selected>Choose your answer</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                    <hr>
                <div class="input-field" style="margin-bottom: 20px">
                    <h5 class="text-primary">Question 6</h5>
                    <p>It is often difficult for you to relate to other people’s feelings.</p>
                    <select class="text-primary" id="question6">
                        <option value="" disabled selected>Choose your answer</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                    <hr>
                <div class="input-field" style="margin-bottom: 20px">
                    <h5 class="text-primary">Question 7</h5>
                    <p>In a discussion, truth should be more important than people’s sensitivities.</p>
                    <select class="text-primary" id="question7">
                        <option value="" disabled selected>Choose your answer</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                    <hr>
                <div class="input-field" style="margin-bottom: 20px">
                    <h5 class="text-primary">Question 8</h5>
                    <p>You rarely get carried away by fantasies and ideas.</p>
                    <select class="text-primary" id="question8">
                        <option value="" disabled selected>Choose your answer</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                    <hr>
                <div class="input-field" style="margin-bottom: 20px">
                    <h5 class="text-primary">Question 9</h5>
                    <p>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</p>
                    <select class="text-primary" id="question9">
                        <option value="" disabled selected>Choose your answer</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                    <hr>
                <div class="input-field" style="margin-bottom: 20px">
                    <h5 class="text-primary">Question 10</h5>
                    <p>You feel more energetic after spending time with a group of people.</p>
                    <select class="text-primary" id="question10">
                        <option value="" disabled selected>Choose your answer</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>
                    </select>
                </div>
                    <hr>
                <div>
                    <button type="button" class="btn btn-primary" style="width: 33%; margin-left: 33%;" type="submit" name="action" id="submitButton">Submit Survey</button>
                </div>
            </div>  
        </div>
        <p class="text-white"><a href="/api/friends" class="text-white">Friends API List</a> | <a href ="https://github.com/dtcrowley/friend-finder" class="text-white">GitHub Repo</a> | <a href = "/" class="text-white">Home</a></p>
    </div>
    <script type="text/javascript">
		$(document).ready(function() {
		});

		$("#submitButton").on("click", function(event) {
			event.preventDefault();
			var userInput = {
				name: $("#nameInput").val().trim(),
				photo: $("#linkInput").val().trim(),
				scores:[
					$("#question1").val().trim(),
					$("#question2").val().trim(),
					$("#question3").val().trim(),
					$("#question4").val().trim(),
					$("#question5").val().trim(),
					$("#question6").val().trim(),
					$("#question7").val().trim(),
					$("#question8").val().trim(),
					$("#question9").val().trim(),
					$("#question10").val().trim()
                ]
            }
            $.post("/api/friends", userInput)
      		.done(function(data) {

                $("#userMatch").html(data.matchName);
                //   check on image
		    	$("#userMatchImage").attr("src", data.matchImage);

      			$(".modal").show();
      		});
        });
        
        $("#modalClose").on("click", function(event) {
            event.preventDefault();
            $(".modal").hide();
            name= $("#nameInput").val("");
            photo= $("#linkInput").val("");
            scores=[
                $("#question1").val(""),
                $("#question2").val(""),
                $("#question3").val(""),
                $("#question4").val(""),
                $("#question5").val(""),
                $("#question6").val(""),
                $("#question7").val(""),
                $("#question8").val(""),
                $("#question9").val(""),
                $("#question10").val("")
            ];
        });
	</script>
</body>
</html>